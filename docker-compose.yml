version: '3.8'

services:
  frenchio:
    image: ghcr.io/aymene69/frenchio:latest
    container_name: frenchio-addon
    ports:
      - "7777:7777"
    environment:
      # Optional: Set a custom port
      - PORT=7777
      # Optional: HTTP/HTTPS Proxy configuration
      # - HTTP_PROXY=http://proxy.example.com:8080
      # - HTTPS_PROXY=http://proxy.example.com:8080
      # - NO_PROXY=localhost,127.0.0.1
      # Optional: Enable/disable qBittorrent support (default: true)
      - QBITTORRENT_ENABLE=true
      # Optional: Customize manifest title (e.g., "| ElfHosted")
      # - MANIFEST_TITLE_SUFFIX=| ElfHosted
      # Optional: Add custom HTML/markup blurb to manifest description
      # - MANIFEST_BLURB=<b>Custom message here</b>
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "python", "-c", "import urllib.request; urllib.request.urlopen('http://localhost:7777/manifest.json')"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 5s

  # Optional: Add qBittorrent service for local streaming
  # Uncomment if you want qBittorrent in the same stack
  # qbittorrent:
  #   image: linuxserver/qbittorrent:latest
  #   container_name: qbittorrent
  #   environment:
  #     - PUID=1000
  #     - PGID=1000
  #     - TZ=Europe/Paris
  #     - WEBUI_PORT=8080
  #   volumes:
  #     - ./qbittorrent/config:/config
  #     - ./qbittorrent/downloads:/downloads
  #   ports:
  #     - "8080:8080"
  #     - "6881:6881"
  #     - "6881:6881/udp"
  #   restart: unless-stopped

